<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>ðŸŽ® Super Online Oyun PortalÄ±</title>
    <style>
        body {
            margin: 0;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background: #111;
            color: #fff;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        header {
            background: #222;
            padding: 10px;
            text-align: center;
        }
        nav button {
            margin: 4px;
            padding: 10px 18px;
            border: none;
            background: #444;
            color: #fff;
            cursor: pointer;
            border-radius: 4px;
            font-weight: bold;
        }
        nav button:hover {
            background: #666;
        }
        #gameContainer {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
        }
        canvas {
            border: 2px solid #444;
            background: #000;
        }
        #info {
            position: absolute;
            bottom: 10px;
            left: 10px;
            font-size: 13px;
            color: #aaa;
        }
    </style>
</head>
<body>
    <header>
        <h1>ðŸŽ® Super Online Oyun PortalÄ±</h1>
        <nav id="menu">
            <button onclick="loadGame('space')">Uzay Shooter</button>
            <button onclick="loadGame('car')">Araba YarÄ±ÅŸÄ±</button>
            <button onclick="loadGame('pong')">Pong</button>
            <button onclick="loadGame('snake')">YÄ±lan</button>
            <button onclick="loadGame('breakout')">Breakout</button>
            <button onclick="loadGame('dodge')">Top KaÃ§Ä±ÅŸÄ±</button>
        </nav>
    </header>

    <div id="gameContainer">
        <canvas id="canvas" width="800" height="500"></canvas>
    </div>

    <div id="info">YÃ¶n tuÅŸlarÄ± / Fare / Klavye ile kontroller saÄŸlanÄ±r.</div>

    <script>
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        let currentGame = null;
        let gameLoop = null;

        function clearLoop() {
            if (gameLoop) {
                cancelAnimationFrame(gameLoop);
                gameLoop = null;
            }
        }

        /* ---------- UZAY SHOOTER ---------- */
        function startSpaceShooter() {
            clearLoop();
            const player = { x: 380, y: 450, w: 40, h: 30, speed: 6 };
            const bullets = [];
            const enemies = [];
            const enemySpeed = 2;
            let left = false, right = false, space = false;
            let score = 0;

            function draw() {
                ctx.fillStyle = "#000";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // Player
                ctx.fillStyle = "#0ff";
                ctx.fillRect(player.x, player.y, player.w, player.h);
                // Bullets
                ctx.fillStyle = "#ff0";
                bullets.forEach(b => ctx.fillRect(b.x, b.y, 4, 10));
                // Enemies
                ctx.fillStyle = "#f00";
                enemies.forEach(e => ctx.fillRect(e.x, e.y, 30, 30));
                // Score
                ctx.fillStyle = "#fff";
                ctx.font = "20px sans-serif";
                ctx.fillText("Skor: " + score, 10, 25);
            }

            function update() {
                if (left && player.x > 0) player.x -= player.speed;
                if (right && player.x < canvas.width - player.w) player.x += player.speed;
                // Bullets move
                for (let i = bullets.length - 1; i >= 0; i--) {
                    bullets[i].y -= 8;
                    if (bullets[i].y < 0) bullets.splice(i, 1);
                }
                // Enemies move
                for (let i = enemies.length - 1; i >= 0; i--) {
                    enemies[i].y += enemySpeed;
                    if (enemies[i].y > canvas.height) enemies.splice(i, 1);
                }
                // Spawn enemy
                if (Math.random() < 0.02) enemies.push({ x: Math.random() * (canvas.width - 30), y: -30 });
                // Collisions
                for (let i = bullets.length - 1; i >= 0; i--) {
                    for (let j = enemies.length - 1; j >= 0; j--) {
                        const b = bullets[i], e = enemies[j];
                        if (b.x < e.x + 30 && b.x + 4 > e.x && b.y < e.y + 30 && b.y + 10 > e.y) {
                            bullets.splice(i, 1);
                            enemies.splice(j, 1);
                            score++;
                            break;
                        }
                    }
                }
                // Game over check
                for (let e of enemies) {
                    if (e.y + 30 >= player.y && e.x < player.x + player.w && e.x + 30 > player.x) {
                        alert("Oyun Bitti! Skor: " + score);
                        clearLoop();
                        return;
                    }
                }
                draw();
                gameLoop = requestAnimationFrame(update);
            }

            window.onkeydown = e => {
                if (e.code === "ArrowLeft") left = true;
                if (e.code === "ArrowRight") right = true;
                if (e.code === "Space") {
                    if (!space) {
                        bullets.push({ x: player.x + player.w / 2 - 2, y: player.y });
                        space = true;
                    }
                }
            };
            window.onkeyup = e => {
                if (e.code === "ArrowLeft") left = false;
                if (e.code === "ArrowRight") right = false;
                if (e.code === "Space") space = false;
            };
            update();
        }

        /* ---------- ARABA YARIÅžI ---------- */
        function startCarRace() {
            clearLoop();
            const road = { x: 0, y: 0, w: 300, h: canvas.height };
            const car = { x: road.x + road.w / 2 - 15, y: canvas.height - 100, w: 30, h: 50 };
            const traffic = [];
            let score = 0;
            let keys = {};

            function draw() {
                ctx.fillStyle = "#222";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // Road
                ctx.fillStyle = "#444";
                ctx.fillRect(road.x, road.y, road.w, road.h);
                // Lines
                ctx.strokeStyle = "#fff";
                ctx.lineWidth = 4;
                ctx.setLineDash([20, 20]);
                ctx.beginPath();
                ctx.moveTo(road.x + road.w / 2, 0);
                ctx.lineTo(road.x + road.w / 2, canvas.height);
                ctx.stroke();
                ctx.setLineDash([]);
                // Car
                ctx.fillStyle = "#00f";
                ctx.fillRect(car.x, car.y, car.w, car.h);
                // Traffic
                ctx.fillStyle = "#f00";
                traffic.forEach(t => ctx.fillRect(t.x, t.y, t.w, t.h));
                // Score
                ctx.fillStyle = "#fff";
                ctx.font = "18px sans-serif";
                ctx.fillText("Skor: " + score, 10, 25);
            }

            function update() {
                // Controls
                if (keys["ArrowLeft"] && car.x > road.x) car.x -= 5;
                if (keys["ArrowRight"] && car.x < road.x + road.w - car.w) car.x += 5;
                // Move traffic
                for (let i = traffic.length - 1; i >= 0; i--) {
                    traffic[i].y += 4;
                    if (traffic[i].y > canvas.height) {
                        traffic.splice(i, 1);
                        score++;
                    }
                }
                // Spawn
                if (Math.random() < 0.02) {
                    const lanes = [road.x + 20, road.x + road.w - 50];
                    traffic.push({ x: lanes[Math.floor(Math.random() * lanes.length)], y: -50, w: 30, h: 50 });
                }
                // Collision
                for (let t of traffic) {
                    if (!(car.x > t.x + t.w || car.x + car.w < t.x || car.y > t.y + t.h || car.y + car.h < t.y)) {
                        alert("Ã‡arpÄ±ÅŸma! Skor: " + score);
                        clearLoop();
                        return;
                    }
                }
                draw();
                gameLoop = requestAnimationFrame(update);
            }

            window.onkeydown = e => keys[e.code] = true;
            window.onkeyup = e => keys[e.code] = false;
            update();
        }

        /* ---------- PONG ---------- */
        function startPong() {
            clearLoop();
            const paddle = (x, y) => ({ x, y, w: 100, h: 12, score: 0 });
            const pad1 = paddle(canvas.width / 2 - 50, 20);
            const pad2 = paddle(canvas.width / 2 - 50, canvas.height - 32);
            const ball = { x: canvas.width / 2, y: canvas.height / 2, r: 8, dx: 4, dy: 4 };
            let keys = {};

            function draw() {
                ctx.fillStyle = "#000";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // Paddles
                ctx.fillStyle = "#fff";
                ctx.fillRect(pad1.x, pad1.y, pad1.w, pad1.h);
                ctx.fillRect(pad2.x, pad2.y, pad2.w, pad2.h);
                // Ball
                ctx.beginPath();
                ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI * 2);
                ctx.fill();
                // Scores
                ctx.font = "24px sans-serif";
                ctx.fillText(pad1.score, 30, 30);
                ctx.fillText(pad2.score, canvas.width - 40, canvas.height - 10);
            }

            function update() {
                // Paddle controls
                if (keys["a"] && pad1.x > 0) pad1.x -= 6;
                if (keys["d"] && pad1.x < canvas.width - pad1.w) pad1.x += 6;
                if (keys["ArrowLeft"] && pad2.x > 0) pad2.x -= 6;
                if (keys["ArrowRight"] && pad2.x < canvas.width - pad2.w) pad2.x += 6;
                // Ball move
                ball.x += ball.dx;
                ball.y += ball.dy;
                // Walls
                if (ball.x - ball.r < 0 || ball.x + ball.r > canvas.width) ball.dx *= -1;
                // Paddles
                if (ball.y - ball.r < pad1.y + pad1.h && ball.x > pad1.x && ball.x < pad1.x + pad1.w) ball.dy = Math.abs(ball.dy);
                if (ball.y + ball.r > pad2.y && ball.x > pad2.x && ball.x < pad2.x + pad2.w) ball.dy = -Math.abs(ball.dy);
                // Score
                if (ball.y < 0) { pad2.score++; resetBall(); }
                if (ball.y > canvas.height) { pad1.score++; resetBall(); }
                draw();
                gameLoop = requestAnimationFrame(update);
            }

            function resetBall() {
                ball.x = canvas.width / 2;
                ball.y = canvas.height / 2;
                ball.dx = (Math.random() > 0.5 ? 1 : -1) * 4;
                ball.dy = (Math.random() > 0.5 ? 1 : -1) * 4;
            }

            window.onkeydown = e => keys[e.code] = true;
            window.onkeyup = e => keys[e.code] = false;
            update();
        }

        /* ---------- YILAN ---------- */
        function startSnake() {
            clearLoop();
            const grid = 20;
            let snake = [{ x: 10, y: 10 }];
            let dx = 0, dy = 0;
            let food = { x: 15, y: 15 };
            let score = 0;

            function draw() {
                ctx.fillStyle = "#111";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // Snake
                ctx.fillStyle = "#0f0";
                snake.forEach(s => ctx.fillRect(s.x * grid, s.y * grid, grid, grid));
                // Food
                ctx.fillStyle = "#f00";
                ctx.fillRect(food.x * grid, food.y * grid, grid, grid);
                // Score
                ctx.fillStyle = "#fff";
                ctx.font = "20px sans-serif";
                ctx.fillText("Skor: " + score, 10, 25);
            }

            function update() {
                if (dx === 0 && dy === 0) {
                    draw();
                    gameLoop = requestAnimationFrame(update);
                    return;
                }
                const head = { x: snake[0].x + dx, y: snake[0].y + dy };
                // Walls
                if (head.x < 0 || head.x >= canvas.width / grid || head.y < 0 || head.y >= canvas.height / grid) {
                    alert("Duvara Ã§arptÄ±n! Skor: " + score);
                    clearLoop();
                    return;
                }
                // Self
                for (let s of snake) {
                    if (head.x === s.x && head.y === s.y) {
                        alert("Kendine Ã§arptÄ±n! Skor: " + score);
                        clearLoop();
                        return;
                    }
                }
                snake.unshift(head);
                // Food
                if (head.x === food.x && head.y === food.y) {
                    score++;
                    food = { x: Math.floor(Math.random() * (canvas.width / grid)), y: Math.floor(Math.random() * (canvas.height / grid)) };
                } else {
                    snake.pop();
                }
                draw();
                gameLoop = requestAnimationFrame(update);
            }

            window.onkeydown = e => {
                if (e.code === "ArrowUp" && dy === 0) { dx = 0; dy = -1; }
                if (e.code === "ArrowDown" && dy === 0) { dx = 0; dy = 1; }
                if (e.code === "ArrowLeft" && dx === 0) { dx = -1; dy = 0; }
                if (e.code === "ArrowRight" && dx === 0) { dx = 1; dy = 0; }
            };
            update();
        }

        /* ---------- BREAKOUT ---------- */
        function startBreakout() {
            clearLoop();
            const paddle = { x: canvas.width / 2 - 50, y: canvas.height - 30, w: 100, h: 12 };
            const ball = { x: canvas.width / 2, y: canvas.height / 2, r: 8, dx: 4, dy: -4 };
            const bricks = [];
            const brickRows = 5, brickCols = 10, brickW = 70, brickH = 20, brickPad = 5, offsetTop = 30, offsetLeft = 35;
            for (let r = 0; r < brickRows; r++) {
                for (let c = 0; c < brickCols; c++) {
                    bricks.push({ x: offsetLeft + c * (brickW + brickPad), y: offsetTop + r * (brickH + brickPad), w: brickW, h: brickH, alive: true });
                }
            }
            let score = 0;
            let keys = {};

            function draw() {
                ctx.fillStyle = "#000";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // Paddle
                ctx.fillStyle = "#fff";
                ctx.fillRect(paddle.x, paddle.y, paddle.w, paddle.h);
                // Ball
                ctx.beginPath();
                ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI * 2);
                ctx.fill();
                // Bricks
                ctx.fillStyle = "#f80";
                bricks.forEach(b => { if (b.alive) ctx.fillRect(b.x, b.y, b.w, b.h); });
                // Score
                ctx.fillStyle = "#fff";
                ctx.font = "18px sans-serif";
                ctx.fillText("Skor: " + score, 10, 20);
            }

            function update() {
                // Paddle
                if (keys["ArrowLeft"] && paddle.x > 0) paddle.x -= 6;
                if (keys["ArrowRight"] && paddle.x < canvas.width - paddle.w) paddle.x += 6;
                // Ball
                ball.x += ball.dx;
                ball.y += ball.dy;
                if (ball.x - ball.r < 0 || ball.x + ball.r > canvas.width) ball.dx *= -1;
                if (ball.y - ball.r < 0) ball.dy *= -1;
                if (ball.y + ball.r > canvas.height) {
                    alert("Top dÃ¼ÅŸtÃ¼! Skor: " + score);
                    clearLoop();
                    return;
                }
                // Paddle hit
                if (ball.y + ball.r > paddle.y && ball.x > paddle.x && ball.x < paddle.x + paddle.w) ball.dy = -Math.abs(ball.dy);
                // Bricks
                for (let b of bricks) {
                    if (b.alive && ball.x > b.x && ball.x < b.x + b.w && ball.y > b.y && ball.y < b.y + b.h) {
                        b.alive = false;
                        ball.dy *= -1;
                        score++;
                    }
                }
                // Win
                if (bricks.every(b => !b.alive)) {
                    alert("Tebrikler! TÃ¼m tuÄŸlarÄ± kÄ±rdÄ±n. Skor: " + score);
                    clearLoop();
                    return;
                }
                draw();
                gameLoop = requestAnimationFrame(update);
            }

            window.onkeydown = e => keys[e.code] = true;
            window.onkeyup = e => keys[e.code] = false;
            update();
        }

        /* ---------- TOP KAÃ‡IÅžI ---------- */
        function startDodge() {
            clearLoop();
            const player = { x: canvas.width / 2, y: canvas.height / 2, r: 10 };
            const balls = [];
            let score = 0;
            let mouse = { x: player.x, y: player.y };

            function draw() {
                ctx.fillStyle = "#000";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // Player
                ctx.fillStyle = "#0f0";
                ctx.beginPath();
                ctx.arc(player.x, player.y, player.r, 0, Math.PI * 2);
                ctx.fill();
                // Enemy balls
                ctx.fillStyle = "#f00";
                balls.forEach(b => {
                    ctx.beginPath();
                    ctx.arc(b.x, b.y, b.r, 0, Math.PI * 2);
                    ctx.fill();
                });
                // Score
                ctx.fillStyle = "#fff";
                ctx.font = "20px sans-serif";
                ctx.fillText("Skor: " + score, 10, 25);
            }

            function update() {
                // Player follow mouse
                const dx = mouse.x - player.x, dy = mouse.y - player.y, dist = Math.hypot(dx, dy);
                if (dist > 1) {
                    player.x += (dx / dist) * 5;
                    player.y += (dy / dist) * 5;
                }
                // Enemy balls
                for (let i = balls.length - 1; i >= 0; i--) {
                    const b = balls[i];
                    b.x += b.dx;
                    b.y += b.dy;
                    if (b.x - b.r < 0 || b.x + b.r > canvas.width) b.dx *= -1;
                    if (b.y - b.r < 0 || b.y + b.r > canvas.height) b.dy *= -1;
                    // Collision
                    if (Math.hypot(b.x - player.x, b.y - player.y) < b.r + player.r) {
                        alert("Ã‡arptÄ±n! Skor: " + score);
                        clearLoop();
                        return;
                    }
                }
                // Spawn
                if (Math.random() < 0.02) {
                    const r = 8 + Math.random() * 8;
                    const side = Math.floor(Math.random() * 4);
                    let x, y, dx, dy;
                    if (side === 0) { x = -r; y = Math.random() * canvas.height; dx = 2 + Math.random() * 2; dy = (Math.random() - 0.5) * 2; }
                    if (side === 1) { x = canvas.width + r; y = Math.random() * canvas.height; dx = -(2 + Math.random() * 2); dy = (Math.random() - 0.5) * 2; }
                    if (side === 2) { x = Math.random() * canvas.width; y = -r; dx = (Math.random() - 0.5) * 2; dy = 2 + Math.random() * 2; }
                    if (side === 3) { x = Math.random() * canvas.width; y = canvas.height + r; dx = (Math.random() - 0.5) * 2; dy = -(2 + Math.random() * 2); }
                    balls.push({ x, y, r, dx, dy });
                }
                score++;
                draw();
                gameLoop = requestAnimationFrame(update);
            }

            canvas.onmousemove = e => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
            };
            update();
        }

        /* ---------- OYUN YÃœKLEYÄ°CÄ° ---------- */
        function loadGame(name) {
            clearLoop();
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if (name === "space") startSpaceShooter();
            if (name === "car") startCarRace();
            if (name === "pong") startPong();
            if (name === "snake") startSnake();
            if (name === "breakout") startBreakout();
            if (name === "dodge") startDodge();
        }

        // BaÅŸlangÄ±Ã§ta ilk oyun
        loadGame("space");
    </script>
</body>
</html>
